<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Simulasi Login Password</title>
  <style>
    /* ... (CSS tidak berubah) ... */
     body { font-family: Arial, sans-serif; margin: 2rem; background: #f8fafc; }
    .container { max-width: 500px; margin: auto; }
    h1 { color: #b91c1c; }
    h2 { font-size: 1.2rem; display: flex; justify-content: space-between; align-items: center; }
    input { padding: 8px; margin-bottom: 10px; width: 95%; border: 1px solid #ccc; border-radius: 4px; }
    button { padding: 10px 15px; cursor: pointer; border: none; border-radius: 4px; background: #2563eb; color: white; }
    .clear-btn { background-color: #ef4444; font-size: 0.8rem; padding: 4px 8px; }
    .log-box { margin-top: 10px; padding: 10px; border: 2px dashed #b91c1c; background: #fef2f2; min-height: 50px; font-family: monospace; white-space: pre-wrap; border-radius: 4px; line-height: 1.5; }
    .note { font-size: 0.9rem; color: #475569; margin-bottom: 20px; }
    .link { margin-top: 20px; }
  </style>
</head>
<body>
  <div class="container">
    <h1>Simulasi Login Password</h1>
    <p class="note">
      Simulasi bagaimana <strong>stealer malware (keylogger)</strong>
      mencuri kredensial saat Anda mengetik.
    </p>

    <div>
      <input id="username" type="text" placeholder="Masukkan username">
      <br>
      <input id="password" type="password" placeholder="Masukkan password">
      <br>
      <button onclick="login()">Login</button>
    </div>

    <h2>
        <span>ðŸ‘¹ Log Simulasi Malware (Keylogger)</span>
        <button class="clear-btn" onclick="clearLogs()">Hapus Log</button>
    </h2>
    <div id="malware-log" class="log-box">Malware sedang memantau...</div>

    <div class="link">
      <a href="/">Kembali ke FIDO2</a>
    </div>
  </div>

  <script>
    // --- KODE SIMULASI MALWARE YANG DIPERBARUI ---
    const usernameInput = document.getElementById('username');
    const passwordInput = document.getElementById('password');
    const malwareLogEl = document.getElementById('malware-log');
    const MALWARE_LOG_KEY = 'malware_log_vulnerable';

    function loadLogs() {
        const savedLogs = sessionStorage.getItem(MALWARE_LOG_KEY);
        if(savedLogs) {
            malwareLogEl.innerHTML = savedLogs;
        } else {
            malwareLogEl.innerHTML = "Malware sedang memantau...";
        }
    }
    
    function clearLogs() {
        sessionStorage.removeItem(MALWARE_LOG_KEY);
        malwareLogEl.innerHTML = "Malware sedang memantau...";
        alert("Log telah dihapus.");
    }

    function logMalwareAttempt() {
      const time = `[${new Date().toLocaleTimeString()}]`;
      const capturedUsername = usernameInput.value;
      const capturedPassword = passwordInput.value;

      if (malwareLogEl.innerHTML.includes("Malware sedang memantau...")) {
          malwareLogEl.innerHTML = ""; // Hapus pesan default
      }
      
      const usernameLog = document.createElement("div");
      usernameLog.textContent = `${time} Username yang dicuri: ${capturedUsername}`;
      
      const passwordLog = document.createElement("div");
      passwordLog.textContent = `${time} Password yang dicuri: ${capturedPassword}`;

      malwareLogEl.appendChild(usernameLog);
      malwareLogEl.appendChild(passwordLog);
      malwareLogEl.appendChild(document.createElement("hr"));
      
      malwareLogEl.scrollTop = malwareLogEl.scrollHeight;
      sessionStorage.setItem(MALWARE_LOG_KEY, malwareLogEl.innerHTML);
    }

    loadLogs();
    // ---------------------------------------------

    function login() {
      logMalwareAttempt(); // <-- Log malware saat tombol diklik
      alert("Login Berhasil!");
    }
  </script>
</body>
</html>